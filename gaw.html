<!DOCTYPE html>
<html>
<head>
    <title>Guess a word</title>
    <script>
        const wordsList = ["VIENNA", "HELSINKI", "COPENHAGEN", "LONDON", "BERLIN", "AMSTERDAM"];
        var guessedLetters = [];
        var keyword = "";
        var numberGuesses = 0;
        function initializeGame()
        {
            keyword = wordsList[Math.floor(Math.random()*wordsList.length)];
            guessedLetters = [];
            numberGuesses = 0;
            document.getElementById("congrats").innerHTML = ""
            document.getElementById("newGame").style.display = "none";

            for (let i = 0; i < keyword.length; i ++)
            {
                guessedLetters.push('-');
            }
            document.getElementById("secretWord").innerHTML = guessedLetters.join(" ");
            document.getElementById("numberGuesses").innerHTML = "The number of guesses you have taken: " + numberGuesses;
        }
        function handleButtons(pressedButton)
        {
            var selectedLetter = pressedButton.textContent; 
            
            if (guessedLetters.indexOf('-') != -1)
            {
                numberGuesses++;
            }

            for ( var i = 0; i < guessedLetters.length; i++) //check if it's the right letter or not
            {
                if ( keyword.charAt(i) == selectedLetter) 
                {
                    guessedLetters[i] = selectedLetter;
                }
            }

            if (guessedLetters.indexOf('-') == -1 )   //display "COngrats"
            {
                document.getElementById("congrats").innerHTML = "You got it correct. Congratulations!!!";
                document.getElementById("newGame").style.display = "";
            }
            document.getElementById("secretWord").innerHTML = guessedLetters.join(" ");
            document.getElementById("numberGuesses").innerHTML = "The number of guesses you have taken: " + numberGuesses;
        }
    </script>
</head>
<body onload="initializeGame()">
    <div class="centered">
        <h1>Hello!</h1>
        <p>This is a guessing game.</p>
        <p>Each hyphen '-' here hides a character. Your goal is try to guess the whole word.</p>
        <p>Press the buttons to guess:</p>

        <div id="secretWord"></div> <!--this is where the hyphens appear-->

        <!--Generate on-screen keyboard-->
        <script>
            const keyboard = ['A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J', 'K','L', 'M', 'N', 'O', 'P', 'Q', 'R', 'S', 'T', 'V', 'W','X', 'Y', 'Z'];
            for (let i = 0; i < keyboard.length; i ++)
            {
                document.write("<button onclick=\"handleButtons(this)\">" + keyboard[i] + "</button>" );
            }
        </script>
        <div id="numberGuesses"></div>
        <div id="congrats"></div>

        <button onclick="initializeGame()" style="display: none" id="newGame">New Game</button>

    </div>
</body>
</html>